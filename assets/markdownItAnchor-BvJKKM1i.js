var v=!1,u={false:"push",true:"unshift",after:"push",before:"unshift"},b={isPermalinkSymbol:!0};function g(t,e,a,n){var s;if(!v){var r="Using deprecated markdown-it-anchor permalink option, see https://github.com/valeriangalliat/markdown-it-anchor#permalinks";typeof process=="object"&&process&&process.emitWarning?process.emitWarning(r):console.warn(r),v=!0}var c=[Object.assign(new a.Token("link_open","a",1),{attrs:[].concat(e.permalinkClass?[["class",e.permalinkClass]]:[],[["href",e.permalinkHref(t,a)]],Object.entries(e.permalinkAttrs(t,a)))}),Object.assign(new a.Token("html_block","",0),{content:e.permalinkSymbol,meta:b}),new a.Token("link_close","a",-1)];e.permalinkSpace&&a.tokens[n+1].children[u[e.permalinkBefore]](Object.assign(new a.Token("text","",0),{content:" "})),(s=a.tokens[n+1].children)[u[e.permalinkBefore]].apply(s,c)}function T(t){return"#"+t}function _(t){return{}}var H={class:"header-anchor",symbol:"#",renderHref:T,renderAttrs:_};function m(t){function e(a){return a=Object.assign({},e.defaults,a),function(n,s,r,c){return t(n,a,s,r,c)}}return e.defaults=Object.assign({},H),e.renderPermalinkImpl=t,e}function w(t){var e=[],a=t.filter(function(n){if(n[0]!=="class")return!0;e.push(n[1])});return e.length>0&&a.unshift(["class",e.join(" ")]),a}var h=m(function(t,e,a,n,s){var r,c=[Object.assign(new n.Token("link_open","a",1),{attrs:w([].concat(e.class?[["class",e.class]]:[],[["href",e.renderHref(t,n)]],e.ariaHidden?[["aria-hidden","true"]]:[],Object.entries(e.renderAttrs(t,n))))}),Object.assign(new n.Token("html_inline","",0),{content:e.symbol,meta:b}),new n.Token("link_close","a",-1)];if(e.space){var l=typeof e.space=="string"?e.space:" ";n.tokens[s+1].children[u[e.placement]](Object.assign(new n.Token(typeof e.space=="string"?"html_inline":"text","",0),{content:l}))}(r=n.tokens[s+1].children)[u[e.placement]].apply(r,c)});Object.assign(h.defaults,{space:!0,placement:"after",ariaHidden:!1});var d=m(h.renderPermalinkImpl);d.defaults=Object.assign({},h.defaults,{ariaHidden:!0});var x=m(function(t,e,a,n,s){var r=[Object.assign(new n.Token("link_open","a",1),{attrs:w([].concat(e.class?[["class",e.class]]:[],[["href",e.renderHref(t,n)]],Object.entries(e.renderAttrs(t,n))))})].concat(e.safariReaderFix?[new n.Token("span_open","span",1)]:[],n.tokens[s+1].children,e.safariReaderFix?[new n.Token("span_close","span",-1)]:[],[new n.Token("link_close","a",-1)]);n.tokens[s+1]=Object.assign(new n.Token("inline","",0),{children:r})});Object.assign(x.defaults,{safariReaderFix:!1});var j=m(function(t,e,a,n,s){var r;if(!["visually-hidden","aria-label","aria-describedby","aria-labelledby"].includes(e.style))throw new Error("`permalink.linkAfterHeader` called with unknown style option `"+e.style+"`");if(!["aria-describedby","aria-labelledby"].includes(e.style)&&!e.assistiveText)throw new Error("`permalink.linkAfterHeader` called without the `assistiveText` option in `"+e.style+"` style");if(e.style==="visually-hidden"&&!e.visuallyHiddenClass)throw new Error("`permalink.linkAfterHeader` called without the `visuallyHiddenClass` option in `visually-hidden` style");var c=n.tokens[s+1].children.filter(function(p){return p.type==="text"||p.type==="code_inline"}).reduce(function(p,y){return p+y.content},""),l=[],i=[];if(e.class&&i.push(["class",e.class]),i.push(["href",e.renderHref(t,n)]),i.push.apply(i,Object.entries(e.renderAttrs(t,n))),e.style==="visually-hidden"){if(l.push(Object.assign(new n.Token("span_open","span",1),{attrs:[["class",e.visuallyHiddenClass]]}),Object.assign(new n.Token("text","",0),{content:e.assistiveText(c)}),new n.Token("span_close","span",-1)),e.space){var f=typeof e.space=="string"?e.space:" ";l[u[e.placement]](Object.assign(new n.Token(typeof e.space=="string"?"html_inline":"text","",0),{content:f}))}l[u[e.placement]](Object.assign(new n.Token("span_open","span",1),{attrs:[["aria-hidden","true"]]}),Object.assign(new n.Token("html_inline","",0),{content:e.symbol,meta:b}),new n.Token("span_close","span",-1))}else l.push(Object.assign(new n.Token("html_inline","",0),{content:e.symbol,meta:b}));e.style==="aria-label"?i.push(["aria-label",e.assistiveText(c)]):["aria-describedby","aria-labelledby"].includes(e.style)&&i.push([e.style,t]);var o=[Object.assign(new n.Token("link_open","a",1),{attrs:w(i)})].concat(l,[new n.Token("link_close","a",-1)]);(r=n.tokens).splice.apply(r,[s+3,0].concat(o)),e.wrapper&&(n.tokens.splice(s,0,Object.assign(new n.Token("html_block","",0),{content:e.wrapper[0]+`
`})),n.tokens.splice(s+3+o.length+1,0,Object.assign(new n.Token("html_block","",0),{content:e.wrapper[1]+`
`})))});function O(t,e,a,n){var s=t,r=n;if(a&&Object.prototype.hasOwnProperty.call(e,s))throw new Error("User defined `id` attribute `"+t+"` is not unique. Please fix it in your Markdown to continue.");for(;Object.prototype.hasOwnProperty.call(e,s);)s=t+"-"+r,r+=1;return e[s]=!0,s}function k(t,e){e=Object.assign({},k.defaults,e),t.core.ruler.push("anchor",function(a){for(var n,s={},r=a.tokens,c=Array.isArray(e.level)?(n=e.level,function(p){return n.includes(p)}):function(p){return function(y){return y>=p}}(e.level),l=0;l<r.length;l++){var i=r[l];if(i.type==="heading_open"&&c(Number(i.tag.substr(1)))){var f=e.getTokensText(r[l+1].children),o=i.attrGet("id");o=o==null?O(o=e.slugifyWithState?e.slugifyWithState(f,a):e.slugify(f),s,!1,e.uniqueSlugStartIndex):O(o,s,!0,e.uniqueSlugStartIndex),i.attrSet("id",o),e.tabIndex!==!1&&i.attrSet("tabindex",""+e.tabIndex),typeof e.permalink=="function"?e.permalink(o,e,a,l):(e.permalink||e.renderPermalink&&e.renderPermalink!==g)&&e.renderPermalink(o,e,a,l),l=r.indexOf(i),e.callback&&e.callback(i,{slug:o,title:f})}}})}Object.assign(j.defaults,{style:"visually-hidden",space:!0,placement:"after",wrapper:null}),k.permalink={__proto__:null,legacy:g,renderHref:T,renderAttrs:_,makePermalink:m,linkInsideHeader:h,ariaHidden:d,headerLink:x,linkAfterHeader:j},k.defaults={level:1,slugify:function(t){return encodeURIComponent(String(t).trim().toLowerCase().replace(/\s+/g,"-"))},uniqueSlugStartIndex:1,tabIndex:"-1",getTokensText:function(t){return t.filter(function(e){return["text","code_inline"].includes(e.type)}).map(function(e){return e.content}).join("")},permalink:!1,renderPermalink:g,permalinkClass:d.defaults.class,permalinkSpace:d.defaults.space,permalinkSymbol:"Â¶",permalinkBefore:d.defaults.placement==="before",permalinkHref:d.defaults.renderHref,permalinkAttrs:d.defaults.renderAttrs},k.default=k;export{k as default};
